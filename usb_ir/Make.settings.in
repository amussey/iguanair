
SHELL = /bin/sh
VPATH = @srcdir@

prefix = @prefix@
libdirname = @libdirname@
exec_prefix = @exec_prefix@
bindir = @bindir@
libdir = @libdir@
datarootdir = @datarootdir@
infodir = $(datarootdir)/info
mandir = $(datarootdir)/man/man1
builddir = $(shell pwd)
host_os = @host_os@

CC = @CC@
CPPFLAGS = @CPPFLAGS@
CFLAGS = @CFLAGS@
LDFLAGS = @LDFLAGS@
LIBS = @LIBS@
INSTALL = @INSTALL@
INSTALL_PROGRAM = @INSTALL_PROGRAM@
INSTALL_DATA = @INSTALL_DATA@
INSTALL_DYNLIB = ${INSTALL} -m 755
SED = @SED@

#

CPPFLAGS += -I$(top_builddir) -I$(srcdir) -I$(top_srcdir) 

#

IGUANAIR=iguanaIR

DYNLIB_EXT = @DYNLIB_EXT@
DYNMOD_EXT = @DYNMOD_EXT@

PYTHON_DYNMOD_EXT = $(DYNMOD_EXT)

ifeq ($(patsubst darwin%,darwin,$(host_os)),darwin)
   ARCHFLAGS = -arch i386 -arch x86_64	# Totally not portable!
   CFLAGS += $(ARCHFLAGS)
   LDFLAGS += $(ARCHFLAGS)
   OSSUPPORT = darwin
   DARWIN = 1
   PATH = $(shell getconf PATH):/usr/local/bin:/opt/local/bin:/sw/bin
   export PATH
   DAEMON_LDFLAGS += -framework CoreFoundation -framework IOKit
   DYNLIB_FLAGS = -dynamiclib
   PYTHON_DYNMOD_EXT = so
else
    CFLAGS += -fpic
    DYNLIB_FLAGS = -shared
    ifeq ($(host_os),linux)
        OSSUPPORT = linux
    endif
endif

