DRIVERS=libusbpre1.so libusb.so

all: $(DRIVERS)

libusb.so: libusb.c ../list.o
	gcc -shared -o $@ -lusb-1.0 $^

libusbpre1.so: libusbpre1.c ../list.o
	gcc -shared -o $@ -lusb $^

.PHONY: clean
clean:
	rm -f *~ *.o $(DRIVERS)

.PHONY: distclean
distclean: clean
	rm -f Makefile
